function httpRequest(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.send(),c.addEventListener("readystatechange",b,!1)}function forecastByCity(a){var b=weatherApiUrlBase+forecastURL+a.city()+","+a.state()+weatherApiKey;httpRequest(b,function(a){if(4===a.target.readyState&&200===a.target.status){for(var b=a.target.responseText,c=JSON.parse(b),d=[],e=3,f=0;f<e;f++)d.push(c.list[f]);d.forEach(function(a){var b=new Date(0);b.setUTCSeconds(a.dt)})}})}function currentWeatherByCoord(a){var b=weatherApiUrlBase+currentWeatherUrl+"lat="+a.lat()+"&lon="+a.lng()+weatherApiKey;httpRequest(b,function(a){if(4===a.target.readyState&&200===a.target.status){var b=a.target.responseText,c=JSON.parse(b),d=c.main.temp;c.tempInFar=1.8*d-459.67,c.tempInFar=c.tempInFar.toFixed(0),viewModel.setCurrentWeather(c)}})}var weatherApiUrlBase="http://api.openweathermap.org/data/2.5/",currentWeatherUrl="weather?",weatherApiKey="&appid=8b0e79fa0a446292795b755997601af7",forecastURL="forecast?q=",Weather=function(){var a=this;a.forecastCity=function(a){return forecastByCity(a)},a.currentLatLngWeather=function(a){return currentWeatherByCoord(a)}},weather=new Weather;